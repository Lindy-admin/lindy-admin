<h1>
  <%= @member.firstname %> <%= @member.lastname %>
</h1>
<p>
  <strong>Email:</strong>
  <%= @member.email %>
</p>

<p>
  <strong>Address:</strong>
  <%= @member.address %>
</p>
<%= link_to 'Edit', edit_member_path(@member), class: "btn btn-primary" %>
<%= link_to 'Destroy', @member, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %>

<h2>Courses</h2>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Title</th>
      <th>Start</th>
      <th>End</th>
      <th>Role</th>
      <th>Ticket</th>
      <th>Payment</th>
      <th colspan="2"></th>
    </tr>
  </thead>

  <tbody>
    <% @member.registrations.each do |registration| %>
    <% course = registration.course %>
      <tr data-link="<%= url_for(course) %>">
        <td><%= course.title %></td>
        <td><%= course.registration_start %></td>
        <td><%= course.registration_end %></td>
        <td><%= role_label(registration.role) %></td>
        <td><%= registration.ticket.label %></td>
        <td><%= registration.payment.status %></td>
        <td><%= link_to 'Switch Role', switch_role_path(registration), method: :post, class:"btn btn-primary" %></td>
        <td><%= link_to 'Remove', registration, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>
